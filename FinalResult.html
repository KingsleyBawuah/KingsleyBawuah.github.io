<!DOCTYPE HTML>
<!--
	Monochromed by TEMPLATED
    templated.co @templatedco
    Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Final Result</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<link href='http://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>
		<!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-panels.min.js"></script>
		<script src="js/init.js"></script>
		<noscript>
			<link rel="stylesheet" href="css/skel-noscript.css" />
			<link rel="stylesheet" href="css/style.css" />
		</noscript>
		<!--[if lte IE 8]><link rel="stylesheet" href="css/ie/v8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="css/ie/v9.css" /><![endif]-->
	</head>
	<body>

	<!-- Header -->
		<div id="header">
			<div class="container">
					
				<!-- Logo -->
					<div id="logo">
						<h1><a href="#">How To Guide</a></h1>
						<span>Connecting to AniList's API</span>
					</div>
				
				<!-- Nav -->
					<nav id="nav">
						<ul>
							<li><a href="index.html">Intro</a></li>
							<li><a href="AJAX.html">AJAX</a></li>
							<li><a href="OAuth2.0.html">OuAuth 2.0</a></li>
							<li class="active"><a href="FinalResult.html">Final Result</a></li>
						</ul>
					</nav>

			</div>
		</div>
	<!-- Header -->
			
	<!-- Main -->
		<div id="main">
			<div class="container">
				<div class="row">

					<!-- Content -->
						<div id="content" class="12u skel-cell-important">
							<section>
								<header>
									<h2>Final Result</h2>
									<span class="byline">Finally, we make the request for data...</span>
								</header>

								<p>So now, we have achieved sending a request to the server and received a parsed JSON object with our access code. For the type of requests we are going to do, this is all the authenticating we need. Now, to get the information, we must essentially update our code to make a new request. We will need to change some of the variables and completely remove some as well. We will no longer need to have the client ID, client secret, grant type, and tokenUrl. We will now be using a variable to store our access token (copied from the last step), and we will rename our URL variable to seriesURL to reflect the data we are requesting. We are going to be making a GET request to search the database for manga with a certain keyword. So, in our case let’s try out the search feature!  Our request will be pointing to "https://anilist.co/api/manga/search/fate " (If you are confused on how we got this route, read the documentation). If our request was successful then we should be getting back JSON objects about the selected keyword, which is "fate" in our case.</p>

								<script async src="//jsfiddle.net/rastamonstahh/rqo4gj55/4/embed/js,result/dark/"></script>
								<p><i>Hit edit on JSFiddle and update the authCode variable with the code you received earlier!</i></p>
					<p>Since we are sending a GET request, the body of our URL can be empty, hence the null value on line 9. We will also use different request headers for this call. Now this is something that isn't explained very well in the documentation and can leave you stuck wondering why you are getting an error code 401(like I did).  For this request, we will use an Authorization: type Bearer. You may remember this as one of the values sent back to us in our request for an access token. If you look at line 8 you will see how that is represented in code form. Notice the space behind the second parameter 'Bearer ', this must be there for the server to recognize it! </p>
					<p>Now that we've noted the differences from the previous code, let’s see this in action: replace the authCode string with the access code you received in the last step and change the search parameter to anything you’d like! If you hit run, you should see the returned objects in the developer console! They will have a variety of properties which are explained in the documentation. Try this with a few different search words and see what kinds of series you find.  </p>
								<br><p>Now that's cool, right? If we were implementing this on an application, we could have it access this data and display it to our users without them ever needing to leave our app!</p>
								<p>Let's try another call that only needs client credentials! Let’s go ahead and retrieve the user reviews for one of my favorite manga called Attack on Titan. The route for this one tells us it needs a manga id and the one for the series we chose is “53390”. This route displays an array of review models, so this will need a slight tweaking of our code. Precisely a for loop to loop through the array of reviews and print the text from each to the console. Edit the code below and search for some reviews on some series you enjoy!</p>
								<script async src="//jsfiddle.net/rastamonstahh/rqo4gj55/5/embed/js,result/dark/"></script> <br>
								<p>There is only one review for Attack on Titan but if there were more they would be displayed one by one!</p><br>
								<p>We’ve reached the end of the tutorial and hopefully by now you should have a good understand of AJAX requests, JSON, Oauth2.0, and how to make a request using JS! Now remember you normally won’t be making requests this way as it can expose your information, but this demonstrates some of what may be abstracted from you when you make requests server side, using a framework like Node.JS.
									I hope you enjoyed this tutorial and can now make requests to API which utilize Oauth2.0 and client credential grant types!
								</p>
							</section>
						</div>
					<!-- /Content -->
						
				</div>
			
			</div>
		</div>
	<!-- Main -->

	<!-- Footer -->

	<!-- Footer -->

	<!-- Copyright -->
		<div id="copyright">
			<div class="container">
				Design: <a href="http://templated.co">TEMPLATED</a> Images: <a href="http://unsplash.com">Unsplash</a> (<a href="http://unsplash.com/cc0">CC0</a>)
			</div>
		</div>

	</body>
</html>